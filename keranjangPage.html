<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keranjang Page</title>
    <link rel="stylesheet" href="keranjangPage.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <header class="options-container sticky-top">
      <div class="produk-kami-title vertical-center">
        <a href="Homepage.html" class="judul-header">HWEHWE STORE</a>
      </div>
      <div class="search-bar-container">
        <input
          type="text"
          id="fname"
          name="fname"
          class="search-bar vertical-center"
        />
      </div>
    </header>

    <!-- konten keranjang -->
    <div class="container mb-6">
      <div class="border">
        <div class="small-container cart-page">
          <div>
            <h3>List Cart</h3>
          </div>
          <table class="data-kosong">
            <tr>
              <th>Product</th>
              <th class="judul-table">Quantity</th>
              <th>Subtotal</th>
            </tr>
          </table>
          <table class="table-cart">
            <tr>
              <td>
                <div class="cart-info">
                  <img
                    src="https://i.gadgets360cdn.com/products/large/lenovo-thinkphone-db-709x800-1672984720.jpg?downsize=*:180"
                    alt=""
                  />
                  <div>
                    <p>Lenovo</p>
                    <small>Price: 50.00</small>
                    <br />
                    <button class="btn1" onclick="">Remove</button>
                  </div>
                </div>
              </td>

              <td>
                <div class="d-flex">
                  <div>
                    <button
                      type="button"
                      class="px-2 rounded-circle text-white cursor-pointer button1"
                      onclick=""
                    >
                      -
                    </button>
                    <span id="valueQty" class="px-1">0</span>
                    <button
                      type="button"
                      class="px-1 rounded-circle text-white cursor-pointer button1"
                      onclick=""
                    >
                      +
                    </button>
                  </div>
                </div>
              </td>
              <td>5.000</td>
            </tr>

            
          </table>

          <div class="total-price">
            <table>
              <tr>
                <td>Subtotal</td>
                <td class="total-all-price">5000</td>
              </tr>
            </table>
          </div>

          <div class="form">
            <div class="data-diri">
              <h2>Data Diri</h2>
            </div>
            <form id='form-data-diri'>
              <div class="mb-3">
                <label for="name" class="form-label">Nama</label>
                <input
                  type="text"
                  class="form-control" id="form-control-name"
                  required="true"
                  placeholder="Masukan nama anda"
                />
              </div>
              <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control" id="form-control-email"
                  id="exampleInputEmail1"
                  aria-describedby="emailHelp"
                  placeholder="Masukan email anda"
                  required="true"
                />
              </div>
              <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label"
                  >Phone Number</label
                >
                <input
                  type="number"
                  class="form-control" id="form-control-phone"
                  required="true"
                  placeholder="Masukan No Handphone anda"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label"
                  >Address</label
                >
                <textarea
                  class="form-control" id="form-control-address"
                  id="exampleFormControlTextarea1"
                  rows="3"
                  placeholder="Masukan alamat anda"
                  required="true"
                ></textarea>
              </div>
              <div class="mb-2 form-check"></div>

              <button  type="submit" id='button-submit' class="btn btn-outline-primary">
                Checkout
              </button>


              <a href="Homepage.html">
                <button type="button" class="btn btn-outline-danger">
                Cancel
              </button>
              </a>

            </form>
          </div>
          
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <!-- <script type="module" src="homeFront.js"></script> -->
    <!-- <script type="module" src="list-database.js"></script> -->
    <script type="module">
      import {renderTrolleyCard, saveDataUSer} from "./checkout.js"
      import {removeFromCart} from "./cart.js"
      import {updateCheckoutPrice} from "./price.js"
      
      renderTrolleyCard();
      updateCheckoutPrice();

      
      document.querySelectorAll('.delete-cart').forEach(event => {
          event.addEventListener('click',() => {
              let productId= Number(event.dataset.productId);
              console.log(productId, typeof productId);

              removeFromCart(productId);
              renderTrolleyCard()
              updateCheckoutPrice()
          } )
      });

     
      document.querySelector('#form-data-diri').addEventListener('submit',(e) => {
        console.log('submit');
        e.preventDefault();
        console.log(e);

        let nameInput=document.querySelector("#form-control-name").value;
        console.log(nameInput, 'nameInput');

        let emailInput=document.querySelector("#form-control-email").value;
        console.log(emailInput, 'emailInput');

        let phoneInput=document.querySelector("#form-control-phone").value;
        console.log(phoneInput, 'phoneInput');

        let addressInput=document.querySelector("#form-control-address").value;
        console.log(addressInput, 'addressInput');

        let userObj={
          nameInput,
          emailInput,
          phoneInput,
          addressInput
        };

        saveDataUSer(userObj);
      } );

    </script>
    
  </body>
</html>
